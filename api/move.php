// Validates and applies player moves